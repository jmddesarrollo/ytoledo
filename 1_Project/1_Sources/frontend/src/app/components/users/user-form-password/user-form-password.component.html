<form class="w3-container w3-panel" [formGroup]="forma" (ngSubmit)="saveData()">
    <div *ngIf="!restore">
        <div class="p-field">
            <label for="password">Nueva contraseña</label>
            <input pPassword type="password" formControlName="password" promptLabel="Introduzca la contraseña" weakLabel="Fácil" mediumLabel="Media" strongLabel="Fuerte" autofocus maxlength="15" id="hss-password-input-email" />
        </div>
        <div class="p-field">
            <small class="p-invalid" *ngIf="!forma.valid && forma.controls['password'].touched && forma.controls['password'].errors?.required" id="hss-password-alert-req">La contraseña es requerida<br></small>
            <small class="p-invalid" *ngIf="!forma.valid && forma.controls['password'] && forma.controls['password'].errors?.pattern && !forma.controls['password'].errors?.required" id="hss-password-alert-format">La contraseña está con formato inválido.<br></small>
        </div>
        <div class="p-field">
            <label for="confirmPass">Repetir contraseña</label>
            <input pPassword type="password" formControlName="confirmPass" promptLabel="Introduzca repetición de la contraseña" weakLabel="Fácil" mediumLabel="Media" strongLabel="Fuerte" maxlength="15" id="hss-password-input-email-repeat" />
        </div>
        <div class="p-field">
            <small class="p-invalid" *ngIf="!forma.valid && forma.controls['confirmPass'].touched && forma.controls['confirmPass'].errors?.required" id="hss-password-alert-req-repeat">La repetición de la contraseña es requerida<br></small>
            <small class="p-invalid" *ngIf="!forma.valid && forma.controls['confirmPass'].touched && forma.hasError('notSame') && !forma.controls['confirmPass'].errors?.required" id="hss-password-alert-not-equal">Las contraseñas no son iguales<br></small>
        </div>

        <div class="w3-center w3-margin-top">
            <button pButton pRipple type="submit" label="Guardar" [style]="{'width': '100px'}" class="w3-margin-right" [disabled]="!forma.valid" id="hss-password-btn-submit"></button>
        </div>

        <!-- Alerta -->
        <div class="w3-panel w3-pale-red w3-leftbar w3-border-red" *ngIf="!forma.valid && forma.controls['password'] && forma.controls['password'].errors?.pattern && forma.controls['password'].touched && !forma.controls['password'].errors?.required">
            <div id="hss-password-alert-format-detail">El formato de la contraseña debe de estar sin espacios, mínimo 6 caracteres, máximo 15 caracteres, al menos una letra alfabética en mayúscula y otra en minúscula, al menos un número y al menos un carácter especial de los siguientes: $€#%&_-</div>
        </div>
        <!-- -->
    </div>


    <div class="w3-center w3-margin-top" *ngIf="restore">
        <button pButton pRipple type="submit" label="Restablecer a una contraseña aleatoria" class="w3-margin-right" id="hss-password-btn-submit-random"></button>
    </div>
</form>